async function conector(e){let t=document.getElementById("nome").value,n=document.getElementById("nome_edd").value,o=document.getElementById("nome_rem").value,a=document.getElementById("preco").value,d=document.getElementById("preco_edd").value,r=document.getElementById("quantidade").value,l=document.getElementById("quantidade_edd").value,c=String(document.getElementById("categoria").value).toLowerCase(),i=String(document.getElementById("categoria_edd").value).toLowerCase(),m=document.getElementById("codigo_rem").value,s=document.getElementById("confirma_rem").value;if(console.log(a,r,String(a).length,String(r).length),"add"==e){if(String(t).length>0&&String(r).length>0&&String(a).length>0){alert(`${t} adicionado com sucesso`);var g=`insert into cantina_mira(nome_produto, preco, tipo, quantidade) values('${t}',${a},'${c}','${r}')`;console.log("preco-v\nquantidade-v")}else alert("Tens de mudar a quantidade ou preco ou os 2 e tens de colocar o nome obrigatorio");console.log(g)}var u=`,tipo='${i}'`;if("atual"==i&&(u=" "),console.log("separar"),"edd"==e){if(String(n).length>0&&String(d).length>0&&String(l).length<=0){alert(`${n} editado com sucesso`);g=`update cantina_mira set preco=${d}${u} where nome_produto='${n}'`;console.log("preco-v\nquantidade-f")}else if(String(n).length>0&&String(l).length>0&&String(d).length<=0){alert(`${n} editado com sucesso`);g=`update cantina_mira set quantidade='${l}'${u} where nome_produto='${n}'`;console.log("preco-f\nquantidade-v")}else if(String(n).length>0&&String(l).length>0&&String(d).length>0){alert(`${n} editado com sucesso`);g=`update cantina_mira set preco=${d}, quantidade='${l}'${u} where nome_produto='${n}'`;console.log("preco-v\nquantidade-v")}else alert("Tens de mudar a quantidade ou preco ou os 2 e tens de colocar o nome obrigatorio");console.log(g)}else if("rem"==e){var p="@cantina2024";if(m==p&&p==s&&String(o).length>0){alert("Removido com sucesso");g=`DELETE FROM cantina_mira WHERE nome_produto='${o}';\n            `}else alert("Preenche todos os campos correto")}var v={comando:g};await fetch("https://cantina-gerente.vercel.app/dados_gerentes",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(v)}),console.log(t,n)}document.addEventListener("DOMContentLoaded",async function(){const e=await fetch("https://cantina-gerente.vercel.app/dados_transfiridos"),t=await e.json(),n=JSON.parse(t),o=document.getElementById("atual_nov");var a=Object.values(n),d=a[a.length-1],r=d.novidade,l=d.imagem_nome,c=d.titulo,i=d.preco,m=document.createElement("img");m.src=`${l}.png`,m.alt="nova imagem",m.id="img_nov",m.onerror=function(){m.src="logo_3_.png",m.onerror=null};var s=document.createElement("div");s.id="texto_nov";var g=document.createElement("p");g.innerText=r,g.className="textos_c",g.id="novidade_texto";var u=document.createElement("h1");u.innerText=c,u.className="textos_c",u.id="texto_central";var p=document.createElement("h2");p.innerText=i,p.className="textos_c",p.id="preco_nov",s.appendChild(u),s.appendChild(g),s.appendChild(p),o.appendChild(m),o.appendChild(s),console.log(d),console.log(n),console.log("\nNovidade:",r,"\nImagem:",l)});